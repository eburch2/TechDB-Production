<p id="notice"><%= notice %></p>

<!-- Makes background -->
<body style="background-color:#D3D3D3;">
<style>
header {
    padding: 1em;
    color: black;
    background-color: #D3D3D3;
    clear: left;
    text-align: center;
}

</style>

<!-- Makes title -->
<header>
   <h1>Baltimore City Public Schools</h1>
   <h2>School Information Report</h2>
</header>


<div class="boxed">
	
	<!-- Add all search groups to an array -->
	<% @search_groups = [] %>
	<% @all_columns = [] %>
	<% for i in 1..8 %> <!-- HARDCODED - WILL NEED TO CHANGE -->
		<% @search_groups.push(SearchGroup.where(id: i).pluck(:group_name)[0]) %>
	<% end %>
	<% @search_groups[0] = "Overview" %>
	<!-- Print each search group, in larger green text  -->
	
  	<% for i in 0..7 %> <!-- HARDCODED - WILL NEED TO CHANGE -->
  		<p>
   			<strong>
   				<div class="categories">
   					<%= @search_groups[i] %>
   				</div>	
   		</p>
   		<p>

   				<!-- Print all child columns and their data  -->
				<!-- Child_columns is an array of (strings separated by commas) -->
				<% @child_columns = [] %>
				<% @child_columns = SearchGroup.where(id: i+1).pluck(:children_columns)[0].split(", ") %>


				<% @child_columns.each do |col| %>
					<% if !@all_columns.include?(col) %>
 						<%= col + ": " %>
 						<% @all_columns.push(col) %>	
 						<br>				
 					<% end %>			
					<br>
				<% end %>
		</p>
	<% end %>	
				
</div> 

<style>
	.boxed {
  		border: 1px solid green ;
  		border-radius: 5px;
  		background-color: white;
  		font-size: 75%;
	}	 

	.categories {
		font-size: 125%;
		color: #43CD80;
		padding-left: 5px;
	}
	p {
		line-height: 60%;
		padding-left: 5px;
	}
</style>

<%= link_to 'Edit', edit_datum_path(@datum) %> |
<%= link_to 'Back', data_path %>
